//-------------- SourcesEstebanPintos_AVLTree --------------//
module SourcesEstebanPintos_AVLTree
sig SourcesEstebanPintos_AVLTree extends java_lang_Object {}
{}
field SourcesEstebanPintos_AVLTree_root:(SourcesEstebanPintos_AVLTree)->one(SourcesEstebanPintos_AVLNode+null) {}
field SourcesEstebanPintos_AVLTree_size:(SourcesEstebanPintos_AVLTree)->one(JavaPrimitiveIntegerValue) {}

object_invariant
   all n:SourcesEstebanPintos_AVLNode+null | {
     some SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0:JavaPrimitiveIntegerValue,
     SK_jml_pred_java_primitive_integer_value_sub_ARG_overflow_0:boolean,
     SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1:JavaPrimitiveIntegerValue,
     SK_jml_pred_java_primitive_integer_value_sub_ARG_overflow_1:boolean | {
       pred_java_primitive_integer_value_sub[(n.SourcesEstebanPintos_AVLNode_leftChild).SourcesEstebanPintos_AVLNode_height,
                                            (n.SourcesEstebanPintos_AVLNode_rightChild).SourcesEstebanPintos_AVLNode_height,
                                            SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0,
                                            SK_jml_pred_java_primitive_integer_value_sub_ARG_overflow_0]
       and 
       (
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0=JavaPrimitiveIntegerLiteralMinus3)
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0=JavaPrimitiveIntegerLiteralMinus2)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0=JavaPrimitiveIntegerLiteralMinus1)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0=JavaPrimitiveIntegerLiteral0)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0=JavaPrimitiveIntegerLiteral1)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0=JavaPrimitiveIntegerLiteral2)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0=JavaPrimitiveIntegerLiteral3)
       )
       and 
       pred_java_primitive_integer_value_sub[(n.SourcesEstebanPintos_AVLNode_leftChild).SourcesEstebanPintos_AVLNode_height,
                                            (n.SourcesEstebanPintos_AVLNode_rightChild).SourcesEstebanPintos_AVLNode_height,
                                            SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1,
                                            SK_jml_pred_java_primitive_integer_value_sub_ARG_overflow_1]
       and 
       (
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1=JavaPrimitiveIntegerLiteralMinus3)
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1=JavaPrimitiveIntegerLiteralMinus2)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1=JavaPrimitiveIntegerLiteralMinus1)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1=JavaPrimitiveIntegerLiteral0)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1=JavaPrimitiveIntegerLiteral1)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1=JavaPrimitiveIntegerLiteral2)
         
         or 
         (
           SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1=JavaPrimitiveIntegerLiteral3)
       )
       and 
       (
         equ[fun_set_contains[fun_reach[thiz.SourcesEstebanPintos_AVLTree_root,SourcesEstebanPintos_AVLNode,SourcesEstebanPintos_AVLNode_rightChild+SourcesEstebanPintos_AVLNode_leftChild],n],
            true]
         implies 
                 (
                   equ[fun_set_contains[fun_reach[n.SourcesEstebanPintos_AVLNode_leftChild,SourcesEstebanPintos_AVLNode,SourcesEstebanPintos_AVLNode_leftChild+SourcesEstebanPintos_AVLNode_rightChild],n],
                      false]
                   and 
                   equ[fun_set_contains[fun_reach[n.SourcesEstebanPintos_AVLNode_rightChild,SourcesEstebanPintos_AVLNode,SourcesEstebanPintos_AVLNode_leftChild+SourcesEstebanPintos_AVLNode_rightChild],n],
                      false]
                   and 
                   pred_java_primitive_integer_value_lt[SK_jml_pred_java_primitive_integer_value_sub_ARG_result_0,
                                                       JavaPrimitiveIntegerLiteral2]
                   and 
                   pred_java_primitive_integer_value_gt[SK_jml_pred_java_primitive_integer_value_sub_ARG_result_1,
                                                       JavaPrimitiveIntegerLiteralMinus2]
                   and 
                   (
                     all nLeft:SourcesEstebanPintos_AVLNode+null | {
                       equ[fun_set_contains[fun_reach[n.SourcesEstebanPintos_AVLNode_leftChild,SourcesEstebanPintos_AVLNode,SourcesEstebanPintos_AVLNode_leftChild+SourcesEstebanPintos_AVLNode_rightChild],nLeft],
                          true]
                       implies 
                               pred_java_primitive_integer_value_lt[nLeft.SourcesEstebanPintos_AVLNode_iData,
                                                                   n.SourcesEstebanPintos_AVLNode_iData]
                     
                     }
                   )
                   and 
                   (
                     all nRight:SourcesEstebanPintos_AVLNode+null | {
                       equ[fun_set_contains[fun_reach[n.SourcesEstebanPintos_AVLNode_rightChild,SourcesEstebanPintos_AVLNode,SourcesEstebanPintos_AVLNode_leftChild+SourcesEstebanPintos_AVLNode_rightChild],nRight],
                          true]
                       implies 
                               pred_java_primitive_integer_value_gte[nRight.SourcesEstebanPintos_AVLNode_iData,
                                                                    n.SourcesEstebanPintos_AVLNode_iData]
                     
                     }
                   )
                 )
       )
     
     }
   
   }



program SourcesEstebanPintos_AVLTree::find[
  var thiz:SourcesEstebanPintos_AVLTree,
  var throw:java_lang_Throwable+null,
  var return:SourcesEstebanPintos_AVLNode+null,
  var key:JavaPrimitiveIntegerValue] 
Specification 
{
  SpecCase #0 {
   requires {
      true=true
   }
   
   ensures {
      instanceOf[throw',
                java_lang_Exception]
      implies 
              liftExpression[true]
   }
   
   ensures {
      (
        throw'=null)
      implies 
              (
                some n:SourcesEstebanPintos_AVLNode+null | {
                  (
                    (
                      equ[n.SourcesEstebanPintos_AVLNode_iData',
                         key']
                      and 
                      equ[fun_set_contains[fun_reach[thiz'.SourcesEstebanPintos_AVLTree_root',SourcesEstebanPintos_AVLNode,SourcesEstebanPintos_AVLNode_leftChild'+SourcesEstebanPintos_AVLNode_rightChild'],n],
                         true]
                    )
                    implies 
                            equ[return',
                               n]
                  )
                  and 
                  (
                    (
                      all m:SourcesEstebanPintos_AVLNode+null | {
                        equ[fun_set_contains[fun_reach[thiz'.SourcesEstebanPintos_AVLTree_root',SourcesEstebanPintos_AVLNode,SourcesEstebanPintos_AVLNode_leftChild'+SourcesEstebanPintos_AVLNode_rightChild'],m],
                           true]
                        implies 
                                neq[m.SourcesEstebanPintos_AVLNode_iData',
                                   key']
                      
                      }
                    )
                    implies 
                            equ[return',
                               null]
                  )
                
                }
              )
   }
   
   modifies {
   EVERYTHING}
  }
}
Implementation 

   {
      skip;
      {
         throw:=null;
         var exit_stmt_reached:boolean;
         exit_stmt_reached:=false;
         {
            var var_1_current:SourcesEstebanPintos_AVLNode+null;
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if isEmptyOrNull[thiz]{
                  throw:=java_lang_NullPointerExceptionLit;
               } else {
                  var_1_current:=thiz.SourcesEstebanPintos_AVLTree_root;
               };
            } else {
               skip;
            };
            var var_2_ws_1:boolean;
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               var_2_ws_1:=(neq[var_1_current.SourcesEstebanPintos_AVLNode_iData,
                  key]=>(true)else(false));
            } else {
               skip;
            };
            while liftExpression[var_2_ws_1]
            and 
            (
              throw=null)
            and 
            (
              exit_stmt_reached=false)
            
               {
                  var t_1:boolean;
                  var t_2:boolean;
                  if (
                    throw=null)
                  and 
                  (
                    exit_stmt_reached=false){
                     t_1:=(pred_java_primitive_integer_value_lt[key,
                                                         var_1_current.SourcesEstebanPintos_AVLNode_iData]=>(true)else(false));
                  } else {
                     skip;
                  };
                  if (
                    throw=null)
                  and 
                  (
                    exit_stmt_reached=false){
                     if t_1=true{
                        if (
                          throw=null)
                        and 
                        (
                          exit_stmt_reached=false){
                           if isEmptyOrNull[var_1_current]{
                              throw:=java_lang_NullPointerExceptionLit;
                           } else {
                              var_1_current:=var_1_current.SourcesEstebanPintos_AVLNode_leftChild;
                           };
                        } else {
                           skip;
                        };
                     } else {
                        if (
                          throw=null)
                        and 
                        (
                          exit_stmt_reached=false){
                           if isEmptyOrNull[var_1_current]{
                              throw:=java_lang_NullPointerExceptionLit;
                           } else {
                              var_1_current:=var_1_current.SourcesEstebanPintos_AVLNode_rightChild;
                           };
                        } else {
                           skip;
                        };
                     };
                  } else {
                     skip;
                  };
                  if (
                    throw=null)
                  and 
                  (
                    exit_stmt_reached=false){
                     t_2:=(equ[var_1_current,
                        null]=>(true)else(false));
                  } else {
                     skip;
                  };
                  if (
                    throw=null)
                  and 
                  (
                    exit_stmt_reached=false){
                     if t_2=true{
                        if (
                          throw=null)
                        and 
                        (
                          exit_stmt_reached=false)   {
                              return:=((SourcesEstebanPintos_AVLNode+null) & (null));
                              exit_stmt_reached:=true;
                           
                           }
                         else {
                           skip;
                        };
                     } else {
                        skip;
                     };
                  } else {
                     skip;
                  };
                  if (
                    throw=null)
                  and 
                  (
                    exit_stmt_reached=false){
                     var_2_ws_1:=(neq[var_1_current.SourcesEstebanPintos_AVLNode_iData,
                        key]=>(true)else(false));
                  } else {
                     skip;
                  };
               
               }
            ;
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false)   {
                  return:=var_1_current;
                  exit_stmt_reached:=true;
               
               }
             else {
               skip;
            };
         
         }
      
      }
      skip;
   
   }


program SourcesEstebanPintos_AVLTree::insert[
  var thiz:SourcesEstebanPintos_AVLTree,
  var throw:java_lang_Throwable+null,
  var id:JavaPrimitiveIntegerValue] 
Specification 
{
  SpecCase #0 {
   requires {
      true=true
   }
   
   ensures {
      instanceOf[throw',
                java_lang_Exception]
      implies 
              liftExpression[false]
   }
   
   ensures {
      (
        throw'=null)
      implies 
              (
                some n:SourcesEstebanPintos_AVLNode+null | {
                  equ[fun_set_contains[fun_reach[thiz'.SourcesEstebanPintos_AVLTree_root',SourcesEstebanPintos_AVLNode,SourcesEstebanPintos_AVLNode_leftChild'+SourcesEstebanPintos_AVLNode_rightChild'],n],
                     true]
                  and 
                  equ[n.SourcesEstebanPintos_AVLNode_iData',
                     id']
                
                }
              )
   }
   
   modifies {
   EVERYTHING}
  }
}
Implementation 

   {
      skip;
      {
         throw:=null;
         var exit_stmt_reached:boolean;
         exit_stmt_reached:=false;
         {
            var t_3:SourcesEstebanPintos_AVLNode+null;
            var t_22:boolean;
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if isEmptyOrNull[thiz]
               or 
               isEmptyOrNull[thiz]
               {
                  throw:=java_lang_NullPointerExceptionLit;
               } else {
                  thiz.SourcesEstebanPintos_AVLTree_size:=fun_java_primitive_integer_value_add[thiz.SourcesEstebanPintos_AVLTree_size,JavaPrimitiveIntegerLiteral1];
               };
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false)   {
                  createObject<SourcesEstebanPintos_AVLNode>[t_3];
                  if isEmptyOrNull[t_3]{
                     throw:=java_lang_NullPointerExceptionLit;
                  } else {
                     call Constructor[t_3,throw];
                  };
               
               }
             else {
               skip;
            };
            var var_3_newNode:SourcesEstebanPintos_AVLNode+null;
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               var_3_newNode:=t_3;
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if isEmptyOrNull[var_3_newNode]{
                  throw:=java_lang_NullPointerExceptionLit;
               } else {
                  var_3_newNode.SourcesEstebanPintos_AVLNode_iData:=id;
               };
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if isEmptyOrNull[var_3_newNode]{
                  throw:=java_lang_NullPointerExceptionLit;
               } else {
                  var_3_newNode.SourcesEstebanPintos_AVLNode_balance:=JavaPrimitiveIntegerLiteral0;
               };
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if isEmptyOrNull[var_3_newNode]{
                  throw:=java_lang_NullPointerExceptionLit;
               } else {
                  var_3_newNode.SourcesEstebanPintos_AVLNode_height:=JavaPrimitiveIntegerLiteral0;
               };
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               t_22:=(equ[thiz.SourcesEstebanPintos_AVLTree_root,
                  null]=>(true)else(false));
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if t_22=true{
                  if (
                    throw=null)
                  and 
                  (
                    exit_stmt_reached=false){
                     if isEmptyOrNull[thiz]{
                        throw:=java_lang_NullPointerExceptionLit;
                     } else {
                        thiz.SourcesEstebanPintos_AVLTree_root:=var_3_newNode;
                     };
                  } else {
                     skip;
                  };
               } else    {
                     var t_4:SourcesEstebanPintos_AVLStack+null;
                     var t_6:boolean;
                     var t_7:boolean;
                     var t_8:boolean;
                     var t_9:boolean;
                     var t_10:boolean;
                     var var_4_current:SourcesEstebanPintos_AVLNode+null;
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        if isEmptyOrNull[thiz]{
                           throw:=java_lang_NullPointerExceptionLit;
                        } else {
                           var_4_current:=thiz.SourcesEstebanPintos_AVLTree_root;
                        };
                     } else {
                        skip;
                     };
                     var var_5_parent:SourcesEstebanPintos_AVLNode+null;
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        var_5_parent:=((SourcesEstebanPintos_AVLNode+null) & (null));
                     } else {
                        skip;
                     };
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false)   {
                           createObject<SourcesEstebanPintos_AVLStack>[t_4];
                           if isEmptyOrNull[thiz]
                           or 
                           isEmptyOrNull[t_4]
                           {
                              throw:=java_lang_NullPointerExceptionLit;
                           } else {
                              call Constructor[t_4,throw,thiz.SourcesEstebanPintos_AVLTree_size];
                           };
                        
                        }
                      else {
                        skip;
                     };
                     var var_6_S:SourcesEstebanPintos_AVLStack+null;
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        var_6_S:=t_4;
                     } else {
                        skip;
                     };
                     var var_7_ws_2:boolean;
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        var_7_ws_2:=(neq[var_4_current,
                           null]=>(true)else(false));
                     } else {
                        skip;
                     };
                     while liftExpression[var_7_ws_2]
                     and 
                     (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false)
                     
                        {
                           var t_5:boolean;
                           if isEmptyOrNull[var_6_S]{
                              throw:=java_lang_NullPointerExceptionLit;
                           } else {
                              call push[var_6_S,throw,var_4_current];
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              var_5_parent:=var_4_current;
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              t_5:=(pred_java_primitive_integer_value_lt[id,
                                                                  var_4_current.SourcesEstebanPintos_AVLNode_iData]=>(true)else(false));
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if t_5=true{
                                 if (
                                   throw=null)
                                 and 
                                 (
                                   exit_stmt_reached=false){
                                    if isEmptyOrNull[var_4_current]{
                                       throw:=java_lang_NullPointerExceptionLit;
                                    } else {
                                       var_4_current:=var_4_current.SourcesEstebanPintos_AVLNode_leftChild;
                                    };
                                 } else {
                                    skip;
                                 };
                              } else {
                                 if (
                                   throw=null)
                                 and 
                                 (
                                   exit_stmt_reached=false){
                                    if isEmptyOrNull[var_4_current]{
                                       throw:=java_lang_NullPointerExceptionLit;
                                    } else {
                                       var_4_current:=var_4_current.SourcesEstebanPintos_AVLNode_rightChild;
                                    };
                                 } else {
                                    skip;
                                 };
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              var_7_ws_2:=(neq[var_4_current,
                                 null]=>(true)else(false));
                           } else {
                              skip;
                           };
                        
                        }
                     ;
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        t_6:=(pred_java_primitive_integer_value_lt[id,
                                                            var_5_parent.SourcesEstebanPintos_AVLNode_iData]=>(true)else(false));
                     } else {
                        skip;
                     };
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        if t_6=true{
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if isEmptyOrNull[var_5_parent]{
                                 throw:=java_lang_NullPointerExceptionLit;
                              } else {
                                 var_5_parent.SourcesEstebanPintos_AVLNode_leftChild:=var_3_newNode;
                              };
                           } else {
                              skip;
                           };
                        } else {
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if isEmptyOrNull[var_5_parent]{
                                 throw:=java_lang_NullPointerExceptionLit;
                              } else {
                                 var_5_parent.SourcesEstebanPintos_AVLNode_rightChild:=var_3_newNode;
                              };
                           } else {
                              skip;
                           };
                        };
                     } else {
                        skip;
                     };
                     var var_8_leftHeight:JavaPrimitiveIntegerValue;
                     var var_9_rightHeight:JavaPrimitiveIntegerValue;
                     var var_10_pathNode:SourcesEstebanPintos_AVLNode+null;
                     var var_11_flag:boolean;
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        var_11_flag:=true;
                     } else {
                        skip;
                     };
                     var var_12_ws_3:boolean;
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        if isEmptyOrNull[var_6_S]{
                           throw:=java_lang_NullPointerExceptionLit;
                        } else {
                           call isEmpty[var_6_S,throw,t_8];
                        };
                     } else {
                        skip;
                     };
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        t_9:=(equ[t_8,
                           false]=>(true)else(false));
                     } else {
                        skip;
                     };
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        if t_9=true   {
                              if (
                                throw=null)
                              and 
                              (
                                exit_stmt_reached=false){
                                 t_10:=(equ[var_11_flag,
                                    true]=>(true)else(false));
                              } else {
                                 skip;
                              };
                              if (
                                throw=null)
                              and 
                              (
                                exit_stmt_reached=false){
                                 if t_10=true{
                                    if (
                                      throw=null)
                                    and 
                                    (
                                      exit_stmt_reached=false){
                                       t_7:=true;
                                    } else {
                                       skip;
                                    };
                                 } else {
                                    if (
                                      throw=null)
                                    and 
                                    (
                                      exit_stmt_reached=false){
                                       t_7:=false;
                                    } else {
                                       skip;
                                    };
                                 };
                              } else {
                                 skip;
                              };
                           
                           }
                         else {
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              t_7:=false;
                           } else {
                              skip;
                           };
                        };
                     } else {
                        skip;
                     };
                     if (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false){
                        var_12_ws_3:=t_7;
                     } else {
                        skip;
                     };
                     while liftExpression[var_12_ws_3]
                     and 
                     (
                       throw=null)
                     and 
                     (
                       exit_stmt_reached=false)
                     
                        {
                           var t_11:SourcesEstebanPintos_AVLNode+null;
                           var t_12:boolean;
                           var t_13:boolean;
                           var t_14:JavaPrimitiveIntegerValue;
                           var t_15:boolean;
                           var t_16:boolean;
                           var t_17:boolean;
                           var t_18:boolean;
                           var t_19:boolean;
                           var t_20:boolean;
                           var t_21:boolean;
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if isEmptyOrNull[var_6_S]{
                                 throw:=java_lang_NullPointerExceptionLit;
                              } else {
                                 call pop[var_6_S,throw,t_11];
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              var_10_pathNode:=t_11;
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              t_12:=(equ[var_10_pathNode.SourcesEstebanPintos_AVLNode_leftChild,
                                 null]=>(true)else(false));
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if t_12=true{
                                 if (
                                   throw=null)
                                 and 
                                 (
                                   exit_stmt_reached=false){
                                    var_8_leftHeight:=JavaPrimitiveIntegerLiteralMinus1;
                                 } else {
                                    skip;
                                 };
                              } else {
                                 if (
                                   throw=null)
                                 and 
                                 (
                                   exit_stmt_reached=false){
                                    if isEmptyOrNull[var_10_pathNode.SourcesEstebanPintos_AVLNode_leftChild]
                                    or 
                                    isEmptyOrNull[var_10_pathNode]
                                    {
                                       throw:=java_lang_NullPointerExceptionLit;
                                    } else {
                                       var_8_leftHeight:=(var_10_pathNode.SourcesEstebanPintos_AVLNode_leftChild).SourcesEstebanPintos_AVLNode_height;
                                    };
                                 } else {
                                    skip;
                                 };
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              t_13:=(equ[var_10_pathNode.SourcesEstebanPintos_AVLNode_rightChild,
                                 null]=>(true)else(false));
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if t_13=true{
                                 if (
                                   throw=null)
                                 and 
                                 (
                                   exit_stmt_reached=false){
                                    var_9_rightHeight:=JavaPrimitiveIntegerLiteralMinus1;
                                 } else {
                                    skip;
                                 };
                              } else {
                                 if (
                                   throw=null)
                                 and 
                                 (
                                   exit_stmt_reached=false){
                                    if isEmptyOrNull[var_10_pathNode.SourcesEstebanPintos_AVLNode_rightChild]
                                    or 
                                    isEmptyOrNull[var_10_pathNode]
                                    {
                                       throw:=java_lang_NullPointerExceptionLit;
                                    } else {
                                       var_9_rightHeight:=(var_10_pathNode.SourcesEstebanPintos_AVLNode_rightChild).SourcesEstebanPintos_AVLNode_height;
                                    };
                                 } else {
                                    skip;
                                 };
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if isEmptyOrNull[var_10_pathNode]{
                                 throw:=java_lang_NullPointerExceptionLit;
                              } else {
                                 var_10_pathNode.SourcesEstebanPintos_AVLNode_balance:=fun_java_primitive_integer_value_sub[var_9_rightHeight,var_8_leftHeight];
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if isEmptyOrNull[thiz]{
                                 throw:=java_lang_NullPointerExceptionLit;
                              } else {
                                 call max[thiz,throw,t_14,var_8_leftHeight,var_9_rightHeight];
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if isEmptyOrNull[var_10_pathNode]{
                                 throw:=java_lang_NullPointerExceptionLit;
                              } else {
                                 var_10_pathNode.SourcesEstebanPintos_AVLNode_height:=fun_java_primitive_integer_value_add[JavaPrimitiveIntegerLiteral1,t_14];
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              t_16:=(pred_java_primitive_integer_value_lt[var_10_pathNode.SourcesEstebanPintos_AVLNode_balance,
                                                                  JavaPrimitiveIntegerLiteralMinus1]=>(true)else(false));
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if t_16=true{
                                 if (
                                   throw=null)
                                 and 
                                 (
                                   exit_stmt_reached=false){
                                    t_15:=true;
                                 } else {
                                    skip;
                                 };
                              } else    {
                                    if (
                                      throw=null)
                                    and 
                                    (
                                      exit_stmt_reached=false){
                                       t_17:=(pred_java_primitive_integer_value_gt[var_10_pathNode.SourcesEstebanPintos_AVLNode_balance,
                                                                           JavaPrimitiveIntegerLiteral1]=>(true)else(false));
                                    } else {
                                       skip;
                                    };
                                    if (
                                      throw=null)
                                    and 
                                    (
                                      exit_stmt_reached=false){
                                       if t_17=true{
                                          if (
                                            throw=null)
                                          and 
                                          (
                                            exit_stmt_reached=false){
                                             t_15:=true;
                                          } else {
                                             skip;
                                          };
                                       } else {
                                          if (
                                            throw=null)
                                          and 
                                          (
                                            exit_stmt_reached=false){
                                             t_15:=false;
                                          } else {
                                             skip;
                                          };
                                       };
                                    } else {
                                       skip;
                                    };
                                 
                                 }
                              ;
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if t_15=true{
                                 if (
                                   throw=null)
                                 and 
                                 (
                                   exit_stmt_reached=false){
                                    var_11_flag:=false;
                                 } else {
                                    skip;
                                 };
                              } else {
                                 skip;
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if isEmptyOrNull[var_6_S]{
                                 throw:=java_lang_NullPointerExceptionLit;
                              } else {
                                 call isEmpty[var_6_S,throw,t_19];
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              t_20:=(equ[t_19,
                                 false]=>(true)else(false));
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              if t_20=true   {
                                    if (
                                      throw=null)
                                    and 
                                    (
                                      exit_stmt_reached=false){
                                       t_21:=(equ[var_11_flag,
                                          true]=>(true)else(false));
                                    } else {
                                       skip;
                                    };
                                    if (
                                      throw=null)
                                    and 
                                    (
                                      exit_stmt_reached=false){
                                       if t_21=true{
                                          if (
                                            throw=null)
                                          and 
                                          (
                                            exit_stmt_reached=false){
                                             t_18:=true;
                                          } else {
                                             skip;
                                          };
                                       } else {
                                          if (
                                            throw=null)
                                          and 
                                          (
                                            exit_stmt_reached=false){
                                             t_18:=false;
                                          } else {
                                             skip;
                                          };
                                       };
                                    } else {
                                       skip;
                                    };
                                 
                                 }
                               else {
                                 if (
                                   throw=null)
                                 and 
                                 (
                                   exit_stmt_reached=false){
                                    t_18:=false;
                                 } else {
                                    skip;
                                 };
                              };
                           } else {
                              skip;
                           };
                           if (
                             throw=null)
                           and 
                           (
                             exit_stmt_reached=false){
                              var_12_ws_3:=t_18;
                           } else {
                              skip;
                           };
                        
                        }
                     ;
                  
                  }
               ;
            } else {
               skip;
            };
         
         }
      
      }
      skip;
   
   }


program SourcesEstebanPintos_AVLTree::Constructor[
  var thiz:SourcesEstebanPintos_AVLTree,
  var throw:java_lang_Throwable+null] 
Implementation 

   {
      skip;
      {
         throw:=null;
         var exit_stmt_reached:boolean;
         exit_stmt_reached:=false;
         {
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if isEmptyOrNull[thiz]{
                  throw:=java_lang_NullPointerExceptionLit;
               } else {
                  thiz.SourcesEstebanPintos_AVLTree_root:=((SourcesEstebanPintos_AVLNode+null) & (null));
               };
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if isEmptyOrNull[thiz]{
                  throw:=java_lang_NullPointerExceptionLit;
               } else {
                  thiz.SourcesEstebanPintos_AVLTree_size:=JavaPrimitiveIntegerLiteral0;
               };
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if isEmptyOrNull[thiz]{
                  throw:=java_lang_NullPointerExceptionLit;
               } else {
                  thiz.SourcesEstebanPintos_AVLTree_root:=((SourcesEstebanPintos_AVLNode+null) & (null));
               };
            } else {
               skip;
            };
         
         }
      
      }
      skip;
   
   }


program SourcesEstebanPintos_AVLTree::max[
  var thiz:SourcesEstebanPintos_AVLTree,
  var throw:java_lang_Throwable+null,
  var return:JavaPrimitiveIntegerValue,
  var x:JavaPrimitiveIntegerValue,
  var y:JavaPrimitiveIntegerValue] 
Specification 
{
  SpecCase #0 {
   requires {
      true=true
   }
   
   ensures {
      instanceOf[throw',
                java_lang_Exception]
      implies 
              liftExpression[false]
   }
   
   ensures {
      (
        throw'=null)
      implies 
              liftExpression[true]
   }
   
   modifies {
   EVERYTHING}
  }
}
Implementation 

   {
      skip;
      {
         throw:=null;
         var exit_stmt_reached:boolean;
         exit_stmt_reached:=false;
         {
            var t_23:boolean;
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               t_23:=(pred_java_primitive_integer_value_gt[x,
                                                   y]=>(true)else(false));
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false){
               if t_23=true{
                  if (
                    throw=null)
                  and 
                  (
                    exit_stmt_reached=false)   {
                        return:=x;
                        exit_stmt_reached:=true;
                     
                     }
                   else {
                     skip;
                  };
               } else {
                  skip;
               };
            } else {
               skip;
            };
            if (
              throw=null)
            and 
            (
              exit_stmt_reached=false)   {
                  return:=y;
                  exit_stmt_reached:=true;
               
               }
             else {
               skip;
            };
         
         }
      
      }
      skip;
   
   }



